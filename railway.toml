[build]
builder = "nixpacks"
buildCommand = "python -m pip install --upgrade pip setuptools wheel ; pip install --only-binary :all: numpy==1.24.3 ; pip install -r requirements.txt"

[deploy]
startCommand = "gunicorn app:app"
healthcheckPath = "/api/health"
healthcheckTimeout = 100

[phases.setup]
nixPkgs = ["python311", "gcc"]

[env]
PYTHON_VERSION = "3.11"
NIXPACKS_PYTHON_VERSION = "3.11"
PIP_PREFER_BINARY = "1"
